generator client {
  provider = "prisma-client-js"
  output   = "../generated/prisma"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model User {
  id                String   @id @default(auto()) @map("_id") @db.ObjectId
  email             String   @unique
  password          String
  name              String
  isActive          Boolean  @default(true)
  canChangePassword Boolean  @default(true)
  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt

  // OTP for password reset and verification
  otp          String?
  otpExpiresAt DateTime?

  // Refresh token for authentication
  refreshToken String?

  // Profile information
  gender       Gender?
  interestedIn InterestedIn?
  heightFeet   Int?
  heightInches Int?

  // Optional profile information
  birthday           DateTime?
  bio                String?
  relationshipStatus RelationshipStatus?
  language           String[] // Array of languages
  work               String?

  // Location information
  address String?
  city    String?
  state   String?
  zipCode String?

  //Feeling today
  feelingToday Mood[] @default([])

  // Profile picture
  profilePhotoUrl String?

  @@map("users")
}

enum Gender {
  women
  men
  nonbinary
}

enum InterestedIn {
  women
  men
  both
}

enum RelationshipStatus {
  single
  in_relationship
  married
  divorced
  widowed
  complicated
}

enum Mood {
  HAPPY
  SAD
  CALM
  BORED
  ROMANTIC
  FRUSTRATED
  STRESSED
  GRATEFUL
  FLIRTY
  ANGRY
}
